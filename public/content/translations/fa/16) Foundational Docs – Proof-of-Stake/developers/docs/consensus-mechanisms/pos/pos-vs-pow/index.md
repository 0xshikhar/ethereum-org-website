---
title: اثبات سهام در برابر اثبات کار
description: مقایسه مکانیزم های اجماع اثبات سهام و اثبات کار اتریوم
lang: fa
---

در زمان راه‌اندازی اتریوم، مکانیزم اثبات سهام هنوز نیاز به تحقیق و توسعه بیشتری داشت تا بتوان برای ایمن‌سازی اتریوم به آن اعتماد کرد. اثبات کار، مکانیزم ساده‌تری بود که کارایی آن قبلاً توسط بیت‌کوین ثابت شده بود. به این معنی که توسعه‌دهندگان اصلی می‌توانستند از این مکانیزم برای راه‌اندازی سریع اتریوم استفاده کنند. هشت سال دیگر طول کشید تا مکانیزم اثبات سهام به مرحله ای برسد که بتوان آن را پیاده‌سازی کرد.

این صفحه دلایل تغییر اتریوم از اثبات کار به اثبات سهام و مبادلات مربوط به آن را توضیح می دهد.

## ایمنی {#security}

محققان اتریوم اثبات سهام را امن تر از اثبات کار می‌دانند. با این حال، مکانیزم اثبات سهام به تازگی روی شبکه اصلی اتریوم پیاده‌سازی شده است و هنوز به اندازه مکانیزم اثبات کار فرصت اثبات خود در طول زمان را نداشته است. بخش‌های زیر به بررسی مزایا و معایب مدل امنیتی اثبات سهام در مقایسه با اثبات کار می‌پردازد.

### هزینه حمله کردن {#cost-to-attack}

در اثبات سهام، اعتبارسنج ها باید حداقل 32 عدد ETH را در یک قرارداد هوشمند به امانت بگذارند ("سهام گذاری کنند"). اتریوم می تواند به منظور مجازات اعتبارسنج هایی که رفتار مخرب داشته اند، اترهای سهام گذاری شده را از بین ببرد. برای به اجماع رسیدن، باید حداقل 66٪ از کل اتر سهام گذاری شده به نفع مجموعه خاصی از بلوک ها رای دهند. بلوک‌هایی که با >=66% سهام به آنها رای داده‌ شده است «نهایی می‌شوند»، به این معنی که نمی‌توان آن‌ها را حذف یا سازمان‌دهی مجدد کرد.

حمله به شبکه می تواند به معنای جلوگیری از نهایی شدن زنجیره یا اطمینان از سازماندهی خاصی از بلوک ها در زنجیره متعارف باشد که به نوعی به نفع مهاجم است. این امر مستلزم این است که مهاجم، مسیر اجماع صادقانه را یا با جمع‌آوری مقدار زیادی اتر و رای دادن مستقیم با آن و یا از طریق فریب اعتبارسنج های صادق به رأی دادن به روشی خاص منحرف کند. حملات پیچیده و کم‌احتمالی که میتوانند اعتبارسنج های صادق را فریب دهند به کنار، هزینه حمله به اتریوم هزینه سهامی است که مهاجم برای تأثیرگذاری بر اجماع به نفع خود باید آن را جمع کند.

کمترین هزینه حمله، >33٪ از کل سهام است. مهاجمی که >33% از کل سهام را در اختیار دارد می تواند به سادگی با آفلاین شدن باعث تاخیر در نهایی کردن شود. این یک مشکل نسبتاً جزئی برای شبکه است، زیرا مکانیزمی به نام "نشت عدم فعالیت" وجود دارد که سهام را از اعتبار سنج های آفلاین نشت می دهد تا زمانی که اکثریت آنلاین 66٪ از سهام را شامل شوند و بتوانند دوباره زنجیره را نهایی کنند. همچنین از نظر تئوری ممکن است،‌ یعنی هنگامی که از مهاجمی با کمی بیش از 33 درصد از کل سهام خواسته می‌شود تولید کننده بلوک باشد، با ایجاد دو بلوک به جای یک بلوک، نهایی شدن مضاعف را ایجاد کند و سپس با همه اعتبارسنج های خود رای مضاعف بدهد. هر فورک فقط به 50 درصد از اعتبارسنج های صادق باقی مانده نیاز دارد که ابتدا هر بلوک را ببینند، بنابراین اگر بتوانند پیام‌های خود را درست زمان‌بندی کنند، ممکن است بتوانند هر دو فورک را نهایی کنند. با اینکه احتمال آن کم است، اما اگر مهاجمی بتواند باعث نهایی شدن دوگانه شود، جامعه اتریوم باید تصمیم بگیرد که یک فورک را دنبال کنند؛ در این صورت اعتبارسنج های مهاجم در دیگری جریمه خواهند شد.

با بیش از 33> درصد از کل سهام، یک مهاجم این شانس را دارد که تأثیر جزئی (تاخیر نهایی) یا شدیدتر (نهایی‌سازی مضاعف) روی شبکه اتریوم داشته باشد. با بیش از 14,000,000 اتر سهام‌گذاری شده در شبکه و قیمت ارز 1000 دلار/اتر، حداقل هزینه برای اجرای این حملات `1000 ضرب در 14,000,000 ضربدر 0.33 است که مساوی است با 4,620,000,000 دلار`. مهاجم این پول را از طریق جریمه از دست می دهد و از شبکه خارج می شود. برای حمله مجدد، آنها باید بیشتر از 33> درصد اتر سهام‌گذاری شده را (مجددا) جمع کرده و آن را (دوباره) بسوزانند. هر تلاش برای حمله به شبکه 4.6 میلیارد دلار هزینه در بر خواهد داشت (با 1000 دلار/ETH و 14 میلیون ETH سهام). مهاجم همچنین هنگام جریمه شدن از شبکه خارج می شود و برای پیوستن مجدد باید به صف فعالسازی بپیوندد. این بدان معناست که نرخ یک حمله تکراری نه تنها به نرخی که مهاجم می‌تواند >33 درصد کل سهام را جمع کند محدود است، بلکه به مدت زمانی که طول می‌کشد تا تمام اعتبارسنج های خود را وارد شبکه کند. هر بار که مهاجم حمله می کند، بسیار فقیرتر می شود و بقیه افراد جامعه ثروتمندتر می شوند، به لطف شوک عرضه ناشی از آن.

حملات دیگر، مانند حملات 51 درصدی یا بازگشت نهایی با 66 درصد کل سهام، به میزان قابل توجه ETH بیشتری نیاز دارند و برای مهاجم هزینه بیشتری دارند.

این را با اثبات کار مقایسه کنید. هزینه حمله به اتریوم اثبات کار، هزینه مالکیت مداوم >50٪ از کل نرخ هش شبکه بود. این به هزینه‌های سخت‌افزار و هزینه‌های جاری قدرت محاسباتی کافی برای پیشی گرفتن از سایر استخراجگرها برای محاسبه مداوم راه‌حل‌های اثبات کار، اضافه شد. اتریوم بیشتر با استفاده از پردازنده‌های گرافیکی به جای آسیک ها استخراج می‌شد، که هزینه را پایین نگه داشت (اگرچه اگر اتریوم روی اثبات کار باقی می‌ماند، دستگاه اسیک ممکن بود محبوب‌تر شود). یک دشمن برای حمله به شبکه اتریوم اثبات کار باید سخت‌افزار زیادی بخرد و هزینه برق را برای اجرای آن بپردازد، اما کل هزینه کمتر از هزینه‌ای است که برای جمع‌آوری اتر کافی برای انجام یک حمله لازم است. یک حمله 51٪ در اثبات کار نسبت به اثبات سهام، حدود [20 برابر ارزان‌تر](https://youtu.be/1m12zgJ42dI?t=1562) است. اگر حمله شناسایی شد و زنجیره برای حذف تغییرات آن هارد فورک شود، مهاجم می تواند مکرراً از همان سخت‌افزار برای حمله به فورک جدید استفاده کند.

### پيچيدگي {#complexity}

اثبات سهام بسیار پیچیده تر از اثبات کار است. این می تواند به نفع اثبات کار باشد زیرا وارد کردن تصادفی باگ ها یا اثرات ناخواسته در پروتکل های ساده‌تر دشوارتر است. با این حال، پیچیدگی با سالها تحقیق و توسعه، شبیه سازی و پیاده‌سازی شبکه آزمایشی به دست آمده است. پروتکل اثبات سهام به طور مستقل توسط پنج تیم مجزا (در هر یک از لایه‌های اجرا و اجماع) در پنج زبان برنامه‌نویسی پیاده‌سازی شده است که مقاومت در برابر باگ‌های کلاینت را فراهم می‌کند.

برای توسعه ایمن و آزمایش منطق اجماع اثبات سهام، بیکن‌چین دو سال قبل از اجرای اثبات سهام در شبکه اصلی اتریوم راه‌اندازی شد. بیکن‌چین به عنوان یک سندباکس برای آزمایش اثبات سهام عمل کرد، زیرا یک بلاکچین زنده بود که منطق اجماع اثبات سهام را پیاده‌سازی می کرد، اما بدون دست زدن به تراکنش های واقعی اتریوم - عملاً فقط در مورد خودش به اجماع رسید. هنگامی که برای مدت زمان کافی پایدار و بدون اشکال بود، بیکن چین با شبکه اصلی اتریوم ادغام شد. همه اینها به رام کردن پیچیدگی اثبات سهام کمک کرد تا جایی که خطر عواقب ناخواسته یا باگ های کاربر بسیار کم بود.

### سطح حمله {#attack-surface}

اثبات سهام پیچیده‌تر از اثبات کار است، به این معنی که بردارهای حمله بالقوه بیشتری برای رسیدگی وجود دارد. به جای یک شبکه همتا به همتا که کاربرها را به هم متصل می کند، دو کاربر وجود دارد که هر کدام یک پروتکل جداگانه را پیاده‌سازی می کنند. داشتن یک اعتبارسنج خاص از پیش انتخاب شده برای پیشنهاد یک بلوک در هر شکاف، پتانسیل حمله داس را ایجاد می کند که در آن مقادیر زیادی از ترافیک شبکه، آن اعتبارسنج خاص را آفلاین می کند.

همچنین راه‌هایی وجود دارد که مهاجمان می‌توانند با دقت زمان انتشار بلوک‌ها یا تصدیق‌های خود را به گونه‌ای زمان‌بندی کنند که توسط بخش خاصی از شبکه صادق دریافت شوند و آنها را تحت تأثیر قرار دهند تا به روش‌های خاصی رأی دهند. در نهایت، یک مهاجم می‌تواند به سادگی اتر کافی برای سهام‌گذاری کردن و تسلط بر مکانیسم اجماع جمع کند. هر یک از این [بردارهای حمله دارای دفاع های مرتبط هستند](/developers/docs/consensus-mechanisms/pos/attack-and-defense)، اما تحت اثبات کار چنین حملاتی وجود ندارند که بخواهیم از آنها دفاع کنیم.

## غیرمتمرکزسازی {#decentralization}

اثبات سهام بیش از اثبات کار غیرمتمرکز است، زیرا رقابت تجهیزاتی سخت‌افزار استخراج تمایل دارند افراد و سازمان‌های کوچک را قیمت‌گذاری کنند. در حالی که هر کس می‌تواند از لحاظ فنی استخراج را با سخت‌افزار متوسط ​​شروع کند، احتمال دریافت هر گونه پاداش در مقایسه با عملیات استخراج سازمانی بسیار ناچیز است. با اثبات سهام، هزینه سهام‌گذاری و درصد بازده آن سهام برای همه یکسان است. در حال حاضر اجرای یک اعتبارسنج، 32 اتر هزینه دارد.

از سوی دیگر، اختراع مشتقات سهام‌گذاری نقدی به نگرانی‌های تمرکزگرایی منجر شده است، زیرا چند ارائه‌دهنده بزرگ مقادیر زیادی از اتر سهام‌گذاری شده را مدیریت می‌کنند. این اتفاق مشکل ساز است و باید در اسرع وقت اصلاح شود، اما در عین حال جزئی تر از آن چیزی است که به نظر می رسد. ارائه دهندگان سهام‌گذاری متمرکز لزوماً کنترل متمرکز اعتبارسنج‌ ها را ندارند - اغلب این فقط راهی برای ایجاد یک استخر مرکزی اتریوم است که بسیاری از اپراتورهای گره مستقل می توانند بدون اینکه هر شرکت کننده به 32 اتریوم اختصاصی خود نیاز داشته باشد آن را به اشتراک بگذارد.

بهترین گزینه برای اتریوم این است که اعتبارسنج ها به صورت محلی در کامپیوترهای خانگی اجرا شوند و عدم تمرکز را به حداکثر برسانند. به همین دلیل است که اتریوم در برابر تغییراتی که نیازمندی های سخت افزاری برای اجرای یک گره/ اعتبارسنج را افزایش می دهند، مقاومت می کند.

## پایداری {#sustainability}

اثبات سهام یک راهکار کربن ارزان برای ایمن‌سازی بلاکچین است. در شرایط اثبات کار، استخراجگرها برای حق استخراج یک بلوک رقابت می کنند. استخراجگرها زمانی موفق تر هستند که بتوانند محاسبات را سریعتر انجام دهند و سرمایه گذاری در سخت‌افزار و مصرف انرژی را تشویق کنند. قبل از اینکه اتریوم به اثبات سهام تبدیل شود، این موضوع برای اتریوم مشاهده شد. اندکی قبل از انتقال به اثبات سهام، اتریوم تقریباً 78 تراوات ساعت در سال مصرف می کرد - به اندازه یک کشور کوچک. بااین‌حال، تغییر به اثبات سهام این هزینه انرژی را تا حدود 99.98٪ کاهش داد. اثبات سهام، اتریوم را به پلتفرمی کم مصرف و کم کربن تبدیل کرد.

[اطلاعات بیشتر در مورد مصرف انرژی اتریوم](/energy-consumption)

## صدور {#issuance}

اتریوم اثبات سهام می تواند با تولید سکه های بسیار کمتر نسبت به اتریوم اثبات کار، هزینه امنیت خود را بپردازد، زیرا اعتبارسنج ها مجبور نیستند هزینه های برق بالایی را بپردازند. در نتیجه، اتریوم می تواند تورم خود را کاهش دهد یا حتی در صورت سوزاندن مقادیر زیادی از اتر، تورم کاهش یابد. سطوح پایین‌تر تورم به این معنی است که امنیت اتریوم ارزان‌تر از زمانی است که در زمان اثبات کار بود.

## با توضیحات تصویری راحت‌ترید؟ {#visual-learner}

توضیحات جاستین دریک درباره مزایای اثبات سهام نسبت به اثبات کار را مشاهده کنید:

<YouTube id="1m12zgJ42dI" />

## بیشتر بخوانید {#further-reading}

- [فلسفه طراحی اثبات سهام ویتالیک](https://medium.com/@VitalikButerin/a-proof-of-stake-design-philosophy-506585978d51)
- [پرسش‌های متداول اثبات سهام ویتالیک](https://vitalik.eth.limo/general/2017/12/31/pos_faq.html#what-is-proof-of-stake)
- [«ویدیو درباره اثبات سهام و اثبات کار» به زبان ساده](https://www.youtube.com/watch?v=M3EFi_POhps)
